# Council DA Scraper - Environment Configuration
# Copy this file to .env and update with your values

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/council_da
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# Celery Configuration
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# =============================================================================
# API Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
API_RATE_LIMIT=100/minute
DEBUG=false
LOG_LEVEL=INFO

# =============================================================================
# Anthropic API (Required for AI Field Mapping)
# =============================================================================
ANTHROPIC_API_KEY=your_anthropic_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# =============================================================================
# Supabase (for GNAF Geocoding - FREE, RECOMMENDED)
# =============================================================================
# Your existing Supabase project with GNAF data (PropertyScope)
SUPABASE_URL=https://nuiyauvgxyrvdromgwqi.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_key
GNAF_SCHEMA=gnaf
GNAF_TABLE_NAME=address_principals

# =============================================================================
# Geocoding APIs
# =============================================================================
# Google Maps API - OPTIONAL, costs $5 per 1000 requests
# Only needed as fallback if GNAF doesn't find a match
# Leave empty to use free Nominatim as fallback instead
GOOGLE_MAPS_API_KEY=

# =============================================================================
# Scraper Configuration
# =============================================================================
# Run browser in headless mode
SCRAPER_HEADLESS=true

# Maximum concurrent browser instances
SCRAPER_MAX_CONCURRENT=5

# Request timeout in seconds
SCRAPER_TIMEOUT=30

# Maximum retries per request
SCRAPER_MAX_RETRIES=3

# Delay between requests (seconds) - be respectful to council servers
SCRAPER_REQUEST_DELAY=1.0

# =============================================================================
# Security
# =============================================================================
# Secret key for JWT tokens (generate with: openssl rand -hex 32)
SECRET_KEY=your_secret_key_here

# API key for admin endpoints
ADMIN_API_KEY=your_admin_api_key_here

# =============================================================================
# Monitoring (Production)
# =============================================================================
GRAFANA_PASSWORD=admin
SENTRY_DSN=

# =============================================================================
# External Services
# =============================================================================
# Webhook for notifications
SLACK_WEBHOOK_URL=
